plugins {
    id("io.micronaut.build.internal.sourcegen-base")
    id("io.micronaut.build.internal.base-module")
}

tasks.withType(Test).configureEach {
    useJUnitPlatform()
}

tasks.withType(Checkstyle).configureEach {
    enabled = false
}

micronautBuild {
    binaryCompatibility {
        enabled.set(false)
    }
}

if (System.getenv("SONAR_TOKEN") != null) {
    tasks.configureEach { if (it.name == "testCodeCoverageReport") { enabled = false } }
}
